<html>
<head>

    <title>FireWatch</title>

    <link rel="icon" type="image/x-icon" href="icon.ico">

    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
    integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY="
    crossorigin=""/>

    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"
    integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo="
    crossorigin=""></script>

    <style>
        #map { height: 100vh; }
        #locate-btn {
            position: absolute;
            bottom: 10px;  /* Moved to the bottom */
            left: 10px;
            background: white;
            border: 1px solid black;
            padding: 5px 10px;
            font-size: 14px;
            cursor: pointer;
            z-index: 1000;
        }
    </style>
   
</head>
<body>

<button id="locate-btn">Locate Me</button>
<div id="map"></div>

<script>

    // set the beginning location for the map
    var map = L.map('map').setView([38, -98], 4);   // [latitude, longitude], zoomFactor

    // add OpenStreetMap layer
    L.tileLayer('https://tile.openstreetmap.org/{z}/{x}/{y}.png', {
        maxZoom: 19,
        attribution: '&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a>'
    }).addTo(map);

    // Function to get user location
    document.getElementById('locate-btn').addEventListener('click', function() {
        if (navigator.geolocation) {
            navigator.geolocation.getCurrentPosition(function(position) {
                var lat = position.coords.latitude;
                var lon = position.coords.longitude;
                map.setView([lat, lon], 13);
                L.marker([lat, lon]).addTo(map)
                    .bindPopup("You are here")
                    .openPopup();
            }, function(error) {
                alert("Error getting location: " + error.message);
            });
        } else {
            alert("Geolocation is not supported by this browser.");
        }
    });

</script>

</body>
</html>
